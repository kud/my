#!/usr/bin/env zsh

set -e

if [[ -z "$1" ]]; then
  echo "Error: No file provided."
  echo "Usage: $0 <file>"
  exit 1
fi

file="$1"
if [[ ! -e "$file" ]]; then
  echo "Error: File '$file' does not exist."
  exit 2
fi

xattr -d com.apple.quarantine "$file" && {
  echo ""
  echo "ðŸ’¥ Quarantine attribute removed from '$file'."
} || {
  echo "Failed to remove quarantine attribute from '$file'."
  exit 3
}
