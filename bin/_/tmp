#!/usr/bin/env zsh

source $MY/core/helper

display_help() {
  echo_space
  echo "Usage:"
  echo_spacex2
  echo "    ${COLOUR_CYAN}tmp${COLOUR_RESET} [<command>|--help]"
  echo_spacex3
  echo "Commands:"
  echo_spacex2
  echo "    open    ${COLOUR_BLACK}Open tmp folder${COLOUR_RESET}"
  echo_spacex2
  echo "    clean   ${COLOUR_BLACK}Clean tmp folder${COLOUR_RESET}"
  echo_spacex2
  echo "    from    ${COLOUR_BLACK}Move files/folder to tmp folder${COLOUR_RESET}"
  echo_spacex2
}

main() {
  if [[ $# -eq 0 ]]; then
    display_help
    return
  fi

  case "$1" in
  clean)
    find ~/__tmp/ -type f -exec trash {} \;
    ;;
  open)
    open ~/__tmp
    ;;
  from)
    [[ -z $2 ]] && {
      echo "Specify a file or folder to move."
      return
    }
    mv "$2" ~/__tmp/
    ;;
  --help)
    display_help
    ;;
  *)
    echo 'What did you say?'
    ;;
  esac
}

main "$@"
